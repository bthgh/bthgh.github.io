<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>How to Increase Performance of Asp.net MVC? - BthGh</title><meta name="description" content="This article demonstrates how to increase Asp.net MVC 5 performance by using custom view engine. By default, ASP.NET MVC uses both Razor View Engine and ASPX View Engine. When we request for a view in browser, first it uses Web Form View Engine to search&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://bthgh.github.io/how-to-increase-performance-of-aspnet-mvc.html"><link rel="alternate" type="application/atom+xml" href="https://bthgh.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://bthgh.github.io/feed.json"><meta property="og:title" content="How to Increase Performance of Asp.net MVC?"><meta property="og:image" content="https://bthgh.github.io/media/posts/1/performanceCover.jpg"><meta property="og:site_name" content="BthGh"><meta property="og:description" content="This article demonstrates how to increase Asp.net MVC 5 performance by using custom view engine. By default, ASP.NET MVC uses both Razor View Engine and ASPX View Engine. When we request for a view in browser, first it uses Web Form View Engine to search&hellip;"><meta property="og:url" content="https://bthgh.github.io/how-to-increase-performance-of-aspnet-mvc.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><style>h1,h2,h3,h4,h5,h6,.btn,[type=button],[type=submit],button,.navbar .navbar__menu li,.navbar_mobile_sidebar .navbar__menu li,.feed__author,.post__tag,.post__share>a span,.post__nav-link>span,.footer{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}body,h1,.h1,blockquote,.search__input,.author__name,.author__info>p,.feed__item h2,.post__nav-link{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://bthgh.github.io/assets/css/style.css?v=cc87cb8806c844f0646558fe70d5c5d1"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://bthgh.github.io/how-to-increase-performance-of-aspnet-mvc.html"},"headline":"How to Increase Performance of Asp.net MVC?","datePublished":"2018-12-23T23:18","dateModified":"2019-09-01T20:59","image":{"@type":"ImageObject","url":"https://bthgh.github.io/media/posts/1/performanceCover.jpg","height":350,"width":970},"description":"This article demonstrates how to increase Asp.net MVC 5 performance by using custom view engine. By default, ASP.NET MVC uses both Razor View Engine and ASPX View Engine. When we request for a view in browser, first it uses Web Form View Engine to search&hellip;","author":{"@type":"Person","name":"BthGh"},"publisher":{"@type":"Organization","name":"BthGh"}}</script><script src="https://bthgh.github.io/assets/js/ls.parent-fit.min.js?v=f8467455ea5c88e3e51a4f212d2632bd"></script><script async src="https://bthgh.github.io/assets/js/lazysizes.min.js?v=6a69d476c93de2b78a72acb259abccea"></script><link rel="stylesheet" href="https://bthgh.github.io/assets/css/prism.css?v=b3bfaec9d0062e615043ae160c95194a"></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://bthgh.github.io/">BthGh</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li class="has-submenu"><a href="https://bthgh.github.io/" target="_self" aria-haspopup="true">Article</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://bthgh.github.io/c/" target="_self">C#</a></li><li><a href="https://bthgh.github.io/aspnet-mvc/" target="_self">Asp.Net MVC</a></li></ul></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><form action="https://bthgh.github.io/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" placeholder="search..." autofocus="autofocus"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://bthgh.github.io/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image"><img class="hero__image-img lazyload" data-src="https://bthgh.github.io/media/posts/1/performanceCover.jpg" data-srcset="https://bthgh.github.io/media/posts/1/responsive/performanceCover-xs.jpg 300w ,https://bthgh.github.io/media/posts/1/responsive/performanceCover-sm.jpg 480w ,https://bthgh.github.io/media/posts/1/responsive/performanceCover-md.jpg 768w ,https://bthgh.github.io/media/posts/1/responsive/performanceCover-lg.jpg 1024w ,https://bthgh.github.io/media/posts/1/responsive/performanceCover-xl.jpg 1360w ,https://bthgh.github.io/media/posts/1/responsive/performanceCover-2xl.jpg 1600w" data-aspectratio="2.7714285714285714" data-sizes="auto" alt="How to Increase Performance of Asp.net MVC?" height="350" width="970"></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2018-12-23T23:18">December 23, 2018</time></div><h1>How to Increase Performance of Asp.net MVC?</h1><div class="post__meta post__meta--author"><img class="lazyload post__author-thumb" data-src="https://bthgh.github.io/media/website/BehtashGhazanfari.JPG" alt="BthGh"> <a href="https://bthgh.github.io/authors/bthgh/" class="feed__author invert">BthGh</a></div></div></header></div><div class="wrapper post__entry"><p>This article demonstrates how to increase Asp.net MVC 5 performance by using custom view engine. By default, ASP.NET MVC uses both Razor View Engine and ASPX View Engine. When we request for a view in browser, first it uses Web Form View Engine to search for the requested view and then using Razor View Engine. For example, when we request Index view from Product Controller, the following locations were searched: </p><pre class="language-cs"><code class="language-cs">~/Views/Product/Index.aspx
~/Views/Product/Index.ascx
~/Views/Shared/Index.aspx
~/Views/Shared/Index.ascx
~/Views/Product/Index.cshtml
~/Views/Product/Index.vbhtml
~/Views/Shared/Index.cshtml
~/Views/Shared/Index.vbhtml  </code></pre><p> </p><p>As you can see some of them were ended with aspx, which is related to Web Form View Engine. As far as we are using Razor view we don't need Web Form View Engine, so we can remove it. To do this first we need to remove all the view engines and then add the Razor view engine. So you should add the following codes to the Application_Start() method of Global.asax.</p><pre class="language-cs"><code class="language-cs"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Application_Start</span><span class="hljs-params">()</span>
        </span>{
            AreaRegistration.RegisterAllAreas();
            FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);
            
            <span class="hljs-comment">//Add these two Lines</span>
            ViewEngines.Engines.Clear();  
            ViewEngines.Engines.Add(<span class="hljs-keyword">new</span> RazorViewEngine());

            RouteConfig.RegisterRoutes(RouteTable.Routes);
            BundleConfig.RegisterBundles(BundleTable.Bundles);
        }
</code></pre><p>The result will be :</p><pre class="language-cs"><code class="language-cs">~<span class="hljs-regexp">/Views/</span>Product/Index.cshtml
~<span class="hljs-regexp">/Views/</span>Product/Index.vbhtml
~<span class="hljs-regexp">/Views/</span>Shared/Index.cshtml
~<span class="hljs-regexp">/Views/</span>Shared/Index.vbhtml
</code></pre><p>As you can see the MVC just using Razor view engine, but still searching for both C# and VB pages. As far as we using C# we don't need VB. So we need to create our custom view engine. To create a custom view engine follow these steps:</p><ol><li>Create a class with the name <em>MyViewEngine</em></li><li>Inherit from RazorViewEngine class</li><li>Config predefined location properties</li></ol><pre class="language-cs"><code class="language-cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyViewEngine</span> : <span class="hljs-title">RazorViewEngine</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyViewEngine</span>()
        </span>{
            AreaViewLocationFormats = <span class="hljs-keyword">new</span>[]
            {
                <span class="hljs-string">"~/Areas/{2}/Views/{1}/{0}.cshtml"</span>,
                <span class="hljs-string">"~/Areas/{2}/Views/Shared/{0}.cshtml"</span>
            };
            AreaMasterLocationFormats = <span class="hljs-keyword">new</span>[]
            {
                <span class="hljs-string">"~/Areas/{2}/Views/{1}/{0}.cshtml"</span>,
                <span class="hljs-string">"~/Areas/{2}/Views/Shared/{0}.cshtml"</span>
            };
            AreaPartialViewLocationFormats = <span class="hljs-keyword">new</span>[]
            {
                <span class="hljs-string">"~/Areas/{2}/Views/{1}/{0}.cshtml"</span>,
                <span class="hljs-string">"~/Areas/{2}/Views/Shared/{0}.cshtml"</span>
            };
            ViewLocationFormats = <span class="hljs-keyword">new</span>[]
            {
                <span class="hljs-string">"~/Views/{1}/{0}.cshtml"</span>,
                <span class="hljs-string">"~/Views/Shared/{0}.cshtml"</span>
            };
            MasterLocationFormats = <span class="hljs-keyword">new</span>[]
            {
                <span class="hljs-string">"~/Views/{1}/{0}.cshtml"</span>,
                <span class="hljs-string">"~/Views/Shared/{0}.cshtml"</span>
            };
            PartialViewLocationFormats = <span class="hljs-keyword">new</span>[]
            {
                <span class="hljs-string">"~/Views/{1}/{0}.cshtml"</span>,
                <span class="hljs-string">"~/Views/Shared/{0}.cshtml"</span>
            };
        }
    }
</code></pre><p>Then we update Application_Start method :</p><pre class="language-cs"><code class="language-cs"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Application_Start</span><span class="hljs-params">()</span>
        </span>{
            AreaRegistration.RegisterAllAreas();
            FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);

            ViewEngines.Engines.Clear();  
            ViewEngines.Engines.Add(<span class="hljs-keyword">new</span> MyViewEngine());

            RouteConfig.RegisterRoutes(RouteTable.Routes);
            BundleConfig.RegisterBundles(BundleTable.Bundles);
        }
</code></pre><p>The result will be:</p><pre class="language-cs"><code class="language-cs">~<span class="hljs-regexp">/Views/</span>product/Index.cshtml
~<span class="hljs-regexp">/Views/</span>Shared/Index.cshtml
</code></pre><p>As you can see MVC just search for C# views.</p></div><footer class="wrapper post__footer"><ul class="post__tag"><li><a href="https://bthgh.github.io/aspnet-mvc/">Asp.Net MVC</a></li><li><a href="https://bthgh.github.io/c/">C#</a></li><li><a href="https://bthgh.github.io/performance/">Performance</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbthgh.github.io%2Fhow-to-increase-performance-of-aspnet-mvc.html" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://bthgh.github.io/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fbthgh.github.io%2Fhow-to-increase-performance-of-aspnet-mvc.html&amp;title=How%20to%20Increase%20Performance%20of%20Asp.net%20MVC%3F" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://bthgh.github.io/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span> </a><a href="https://wa.me/?text=How%20to%20Increase%20Performance%20of%20Asp.net%20MVC%3F https%3A%2F%2Fbthgh.github.io%2Fhow-to-increase-performance-of-aspnet-mvc.html" class="js-share whatsapp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://bthgh.github.io/assets/svg/svg-map.svg#whatsapp"/></svg> <span>WhatsApp</span></a></div><div class="post__bio bio"><img class="lazyload bio__avatar" data-src="https://bthgh.github.io/media/website/BehtashGhazanfari.JPG" alt="BthGh"><div class="bio__info"><h3 class="bio__name"><a href="https://bthgh.github.io/authors/bthgh/" class="invert" rel="author">BthGh</a></h3><p>I am a senior .Net Developer who like to share what ever he learned.</p></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://bthgh.github.io/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://bthgh.github.io/create-a-reusable-map-using-aspnet-mvc-openlayers-osm.html" class="invert post__nav-link" rel="prev"><span>Previous</span> Create a reusable map using Asp.net MVC, OpenLayers, OSM</a></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2018-12-12T11:03" class="feed__date">December 12, 2018</time></div><h3 class="h1"><a href="https://bthgh.github.io/create-a-reusable-map-using-aspnet-mvc-openlayers-osm.html" class="invert">Create a reusable map using Asp.net MVC, OpenLayers, OSM</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright">Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener noreferrer">Publii Static CMS</a></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://bthgh.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://bthgh.github.io/assets/js/scripts.min.js?v=205f40927e4a45297a0b266e50ad78d5"></script><script>var lazyFeaturedImage=function lazyFeaturedImage(){var b=document.querySelectorAll(".hero__image-img");for(var a=0;a<b.length;a++){var c=b[a];c.addEventListener("lazyloaded",function(f){var d=f.target.parentNode;d.classList.add("hero__image--overlay")})}};lazyFeaturedImage();</script><script defer="defer" src="https://bthgh.github.io/assets/js/prism.js?v=e9098cc340bbd7b65feaeb94e9c923ba"></script></body></html>